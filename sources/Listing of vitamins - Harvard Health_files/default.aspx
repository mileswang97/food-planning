"use strict";(function(n,t,i){function d(i){t.readyState==="complete"?i.call():n.addEventListener("load",i)}function v(n){var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),u=a.search,t=r.exec(u);if(t!==null)return decodeURIComponent(t[1])}function e(n){var t=c(n),r;return t===f?t:(r=v(n),r!==i?u(n,r):t)}function ut(n,t){var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i);return r.test(t)}function ft(n){var r=new RegExp("\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}"),i,t;return r.test(n)?null:(i=/(?:[\w-]+\.(?:com|co|gov|edu|org|net)\.[\w-]{1,2}|[\w-]+\.[\w-]{2,})$/,t=i.exec(n),t)?t[0]:null}function c(n){var i=t.cookie.match(n+"=(.*?)(;|$)");if(i)return decodeURIComponent(i[1])}function u(n,i){var r=n+"="+l(i||""),u,f;return y.indexOf(n)>=0&&(u=new Date,i&&u.setFullYear(u.getFullYear()+1),r+="; expires="+u.toGMTString()),r+="; path=/",f=ft(t.domain),f&&(r+="; domain="+l(f)),t.cookie=r,i}function g(n,r){var s,o,v,h,u,y,c;if(Array.isArray(n)&&n.length&&Array.isArray(r)&&r.length&&(s=r.map(function(n){return{Key:n,Value:e(n)}}).filter(function(n){return!!n.Value}),s.length)&&!s.some(function(n){return n.Value===f}))for(o={},n.forEach(function(n){typeof n=="string"&&n.length>0?o[n]=!0:n&&n.domain&&(typeof n.path=="string"&&n.path.length>0?o[n.domain]=new RegExp(n.path,"i"):n.path===i&&(o[n.domain]=!0))}),v=t.getElementsByTagName("a"),h=0;h<v.length;h++)u=v[h],u.hostname!==a.hostname&&u.hostname in o&&(y=o[u.hostname],(y===!0||y.test(u.pathname))&&(c=s.filter(function(n){return!ut(n.Key,u.search)}).map(function(n){return l(n.Key)+"="+l(n.Value)}),c.length&&(u.search=u.search.length===0?"?"+c.join("&"):u.search+"&"+c.join("&"))))}function nt(){function r(n,t){return n+(t>>>4).toString(16)+(t&15).toString(16)}var t,f=n.crypto||n.msCrypto,u,i;if(f&&f.getRandomValues)t=new Uint8Array(16),f.getRandomValues(t);else for(t=[],u=0;u<16;u++)t[u]=Math.random()*32|0;return t[6]=t[6]&15|64,t[8]=t[8]&63|128,i=(t.slice||Array.prototype.slice).bind(t),i(0,4).reduce(r,"")+i(4,6).reduce(r,"-")+i(6,8).reduce(r,"-")+i(8,10).reduce(r,"-")+i(10,16).reduce(r,"-")}function p(n,t,r,f){var e=new XMLHttpRequest;e.withCredentials===i&&XDomainRequest!==i&&(e=new XDomainRequest);f&&(e.onload=function(){try{r.auid&&(r.smuid||r.emuid)&&u(h,null)}catch(n){w(n)}});e.open(n,"//integration.delivra.com/tracking/"+t);r?(e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("data="+l(JSON.stringify(r)))):e.send()}function w(n){try{var u={message:n.message||n.name,source:typeof n.toSource=="function"?n.toSource():i,lineno:n.lineNumber,colno:n.columnNumber,list:r.listName,location:a.toString(),referrer:t.referrer,error:JSON.stringify({message:n.message,stack:n.stack})};p("POST","LogError.ashx",u)}catch(f){}}function tt(n){return n=Number(n),typeof n=="number"&&n>0&&n%1==0?n:i}function b(n,t){n.url=(n.url||a).toString();n.suid=c("dlv-suid")||u("dlv-suid",nt());var l=e(o),y=e(s),r=e(h),p=t?tt(v("mid")||c("mid")):i;if(l){if(l===f)return!1;n.emuid=l;n.ml=e("dlv-mlid");n.auid=r}else if(y){if(y===f)return!1;n.smuid=y;n.ml=e("dlv-mlid");n.auid=r}else if(p)n.mid=e("mid"),n.ml=tt(e("ml")),v("mid")&&!v("dlv-issms")&&u("dlv-issms",""),n.issms=e("dlv-issms"),n.auid=r;else if(r){if(r===f)return!1;n.auid=r}else n.auid=u(h,nt());return!0}function it(n){var u,i,f;if(!n.tags&&r.metaTagsName)for(n.tags=[],u=t.getElementsByName(r.metaTagsName),i=0;i<u.length;i++)f=u[i],f.nodeName==="META"&&Array.prototype.push.apply(n.tags,f.getAttribute("content").split(","));else typeof n.tags=="string"&&(n.tags=n.tags.split(","));p("POST","cs/v3/PageView.ashx",n,!0)}function rt(n){p("POST","cs/v3/Purchase.ashx",n,!0)}function et(t){if(t.cl)r.listName=t.cl;else return;b(t,!0)&&(d(function(){g(n.EXpersist,[o,s,"dlv-mlid",h])}),t.sl==="order confirmed"?(delete t.sl,t.orderId=t.e,delete t.e,t.u.split(",").forEach(function(n){var i=n.split("="),r;i.length===2&&(r=i[0].trim(),r==="q"?t.totalItemQuantity=i[1].trim():r==="p"&&(t.totalRevenue=i[1].trim()))}),delete t.u,rt(t)):(t.url=t.sl,delete t.sl,delete t.e,delete t.u,it(t)))}var o="dlv-emuid",s="dlv-smuid",h="dlv-auid",y=["mid","dlv-issms",o,s,h],f="do-not-track",k='Clickstream error: required parameter "listName" was not specified',l=n.encodeURIComponent,a=n.location,r={autoTrackPageview:!0,metaTagsName:"keywords"};n.DlvTracking={init:function(n){try{if(n!==null&&n!==i)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t]);d(function(){g(r.persist,[o,s,"dlv-mlid",h])});n.autoTrackPageview&&this.track("pageview")}catch(u){w(u)}},track:function(n,t){var i,l,e;try{if(i={},t!==null&&typeof t=="object")for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e=t[l],i[l]=typeof e!="object"||Array.isArray(e)?e:e.toString());switch(n){case"legacyPageView":et(i);break;case"pageview":if(i.cl=r.listName,!i.cl){console.log(k);return}if(!b(i,!1))return;it(i);break;case"purchase":if(i.cl=r.listName,!i.cl){console.log(k);return}if(!b(i,!1))return;rt(i);break;case"convertsignup":r.listName&&(r.listName in t.e&&c(o)!==f&&u(o,t.e[r.listName]),r.listName in t.s&&c(s)!==f&&u(s,t.s[r.listName]));break;case"clear":y.forEach(function(n){u(n,null)});break;case"disable":[o,s,h].forEach(function(n){u(n,f)});break;case"enable":y.forEach(function(n){c(n)===f&&u(n,null)})}}catch(a){w(a)}}}})(window,document),function(){var n={};n.cl=window.EXcl||"harvardhealthpublications";n.e=window.EXe||"page";n.sl=window.EXsl||"https://www.health.harvard.edu/staying-healthy/listing_of_vitamins";n.u=window.EXu||"";DlvTracking.track("legacyPageView",n)}()